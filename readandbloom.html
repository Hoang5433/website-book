<!-- Read & Bloom Homepage -->
<!DOCTYPE html>

<html lang="vi">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Read &amp; Bloom</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat&amp;display=swap" rel="stylesheet"/>
<style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Montserrat', sans-serif;
    }
    body {
      background-color: #fdf6ec;
      color: #333;
      padding-top: 150px !important;
    }
    header {
      background-color: #fdf6ec;
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      z-index: 10000;
      box-shadow: 0 2px 16px #d46a9244;
    }
    .header-logo {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding-top: 12px;
    }
    .header-logo img {
      height: 56px;
      border-radius: 14px;
      box-shadow: 0 2px 12px #d46a9244;
    }
    .header-title {
      font-size: 2rem;
      font-weight: bold;
      color: #d46a92;
      margin-top: 4px;
      letter-spacing: 1px;
    }
    .header-bar {
      display: flex;
      align-items: center;
      justify-content: center;
      max-width: 1100px;
      margin: 0 auto;
      padding: 8px 16px 0 16px;
      width: 100%;
      position: relative;
    }
    nav {
      flex: 1;
      display: flex;
      justify-content: center;
      gap: 10px;
    }
    nav a {
      margin: 10px;
      text-decoration: none;
      color: #d46a92; /* Chữ màu hồng nhấn */
      background-color: #fdf6ec; /* Đổi từ #f8c8dc sang màu be */
      padding: 8px 16px;
      border-radius: 8px;
    }
    nav a:hover, nav a.active, #side-menu a.active {
  background: #d46a92 !important;
  color: #fff !important;
  font-weight: bold;
}
    .header-actions {
  display: flex;
  align-items: center;
  gap: 8px;
  position: absolute;
  right: 16px;
}

#search-bar {
  display: flex;
  align-items: center;
  background: #fff;
  border-radius: 30px;
  border: 2px solid #d46a92;
  padding: 3px 8px;
  margin: 0;
}

#cart-menu {
  display: flex;
  align-items: center;
  margin-left: 8px;
}
    section {
      padding: 40px 20px;
      margin-bottom: 32px;
    }
    h2 {
      margin-bottom: 20px;
      font-size: 1.6rem;
      color: #d46a92;
    }
    .book-list {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-bottom: 40px;
    }
    .book {
      background-color: white;
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      transition: transform 0.3s;
    }
    .book:hover {
      transform: translateY(-5px);
    }
    .book img {
      width: 100%;
      height: 250px;
      object-fit: cover;
      border-radius: 8px;
    }
    .book h3 {
      font-size: 1.1rem;
      margin: 10px 0;
    }
    .book p {
      font-size: 0.9rem;
      color: #666;
    }
    .book-actions {
      margin-top: 10px;
      display: flex;
      gap: 8px;
    }
    .book-actions button {
      padding: 6px 12px;
      border: none;
      border-radius: 6px;
      background: #fff; /* Nút nền trắng */
      color: #d46a92;   /* Chữ màu hồng */
      border: 1.5px solid #d46a92;
      cursor: pointer;
      font-size: 0.95rem;
      transition: background 0.2s;
    }
    .book-actions button:hover {
      background: #d46a92;
      color: #fff;
    }
    #popup-overlay {
      display: none;
      position: fixed;
      z-index: 9999;
      left: 0; top: 0; right: 0; bottom: 0;
      background: rgba(0,0,0,0.3);
      animation: fadeIn 0.3s;
    }
    #popup-modal {
      background: #fff;
      border-radius: 12px;
      max-width: 270px;
      width: 92vw;
      position: fixed;
      left: 50%;
      top: 62%;
      transform: translate(-50%, -50%);
      margin: 0;
      padding: 10px 8px 10px 8px;
      box-shadow: 0 4px 18px rgba(0,0,0,0.13);
      animation: fadeInUp 0.4s;
      z-index: 10002;
      max-height: 80vh;
      overflow-y: auto;
    }
    #popup-modal h3 {
      margin-bottom: 4px;
      color: #d46a92;
      text-align: center;
      font-size: 1rem;
    }
    #popup-modal label {
      display: block;
      margin: 3px 0 1px 0;
      font-size: 0.95em;
    }
    #popup-modal input, #popup-modal select {
      width: 100%;
      padding: 4px 6px;
      margin-bottom: 6px;
      border-radius: 4px;
      border: 1px solid #eee;
      font-size: 0.95em;
      box-sizing: border-box;
    }
    #popup-modal select {
      min-height: 26px;
    }
    #popup-modal .submit-btn {
      background: #d46a92;
      color: #fff;
      width: 100%;
      margin-top: 3px;
      font-size: 0.97rem;
      padding: 6px 0;
      border-radius: 6px;
      border: none;
    }
    #popup-modal .close-btn {
      position: absolute;
      right: 6px; top: 4px;
      background: none;
      border: none;
      font-size: 1.05rem;
      color: #d46a92;
      cursor: pointer;
    }
    #order-success {
      padding: 24px 0 10px 0;
      animation: fadeIn 0.5s;
    }
    .success-icon {
      font-size: 2.5rem;
      margin-bottom: 10px;
      animation: bounce 1.2s;
    }
    .success-title {
      font-size: 1.3rem;
      color: #d46a92;
      font-weight: bold;
      margin-bottom: 6px;
    }
    .success-desc {
      color: #555;
      font-size: 1rem;
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(40px);}
      to { opacity: 1; transform: translateY(0);}
    }
    @keyframes bounce {
      0%, 20%, 53%, 80%, 100% { transform: translateY(0);}
      40%, 43% { transform: translateY(-18px);}
      70% { transform: translateY(-8px);}
      90% { transform: translateY(-2px);}
    }
    @media (max-width: 900px) {
      nav { display: none; }
      #hamburger-menu { display: block; }
    }
    @media (min-width: 901px) {
      #hamburger-menu { display: none; }
    }
    @media (max-width: 700px) {
      section { padding: 24px 6px; }
      .book-list { grid-template-columns: 1fr; }
    }
    @media (max-width: 600px) {
      nav a {
        font-size: 0.9rem;
        padding: 6px 10px;
      }
    }
    #cart-floating {
      position: fixed;
      top: 90px;
      right: 24px; /* Đổi từ left: 24px; sang right: 24px; */
      z-index: 1200;
    }
    #cart-btn {
      background: #fff;
      border: 2px solid #d46a92;
      color: #d46a92;
      border-radius: 50px;
      font-size: 1.3rem;
      padding: 8px 18px;
      cursor: pointer;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
      transition: background 0.2s;
    }
    #cart-btn:hover {
      background: #d46a92;
      color: #fff;
    }
    #cart-count {
      background: #d46a92;
      color: #fff;
      border-radius: 50%;
      padding: 2px 7px;
      font-size: 0.95rem;
      margin-left: 2px;
    }
    #cart-dropdown {
      display: none;
      position: absolute;
      top: 44px;
      right: 0;
      left: auto;
      background: #fff;
      border: 1.5px solid #d46a92;
      border-radius: 12px;
      min-width: 220px;
      box-shadow: 0 4px 24px rgba(0,0,0,0.10);
      padding: 14px 14px 10px 14px;
      animation: fadeIn 0.3s;
      z-index: 10001;
    }
    #cart-dropdown h4 {
      margin: 0 0 8px 0;
      color: #d46a92;
      font-size: 1.1rem;
    }
    #cart-list {
      list-style: none;
      padding: 0;
      margin: 0 0 8px 0;
      max-height: 180px;
      overflow-y: auto;
    }
    #cart-list li {
      font-size: 0.98rem;
      margin-bottom: 6px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    #cart-list .remove-cart {
      background: none;
      border: none;
      color: #d46a92;
      font-size: 1.1rem;
      cursor: pointer;
      margin-left: 8px;
    }
    #cart-empty {
      color: #888;
      font-size: 0.95rem;
      text-align: center;
    }
    /* Thanh tìm kiếm nổi cạnh giỏ hàng */
    #search-floating {
      position: fixed;
      top: 90px;
      right: 110px;
      z-index: 1200;
      display: flex;
      align-items: center;
      background: #fff;
      border-radius: 30px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
      padding: 4px 10px 4px 16px;
      border: 2px solid #d46a92;
    }
    #search-input {
      border: none;
      outline: none;
      background: transparent;
      font-size: 1rem;
      width: 140px;
      padding: 6px 0;
    }
    #search-btn {
      background: none;
      border: none;
      font-size: 1.2rem;
      color: #d46a92;
      cursor: pointer;
      margin-left: 6px;
    }
    @media (max-width: 700px) {
      #search-floating { top: 70px; right: 70px; }
      #search-input { width: 80px; }
    }
    @media (max-width: 500px) {
      #search-floating { display: none; }
    }
    /* Menu hamburger */
    #hamburger-menu {
      position: fixed;
      top: 18px;
      left: 18px;
      z-index: 1300;
    }
    #menu-toggle {
      display: none;
    }
    #menu-icon {
      font-size: 2rem;
      color: #d46a92;
      cursor: pointer;
      background: #fff;
      border-radius: 8px;
      padding: 4px 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
      display: inline-block;
    }
    #side-menu {
      display: none;
      position: absolute;
      top: 40px;
      left: 0;
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 4px 24px rgba(0,0,0,0.10);
      min-width: 140px;
      flex-direction: column;
      padding: 10px 0;
    }
    #side-menu a {
      display: block;
      padding: 10px 18px;
      color: #d46a92;
      text-decoration: none;
      font-weight: 500;
    }
    #side-menu a:hover {
      background: #d46a92;
      color: #fff;
    }
    #menu-toggle:checked + #menu-icon + #side-menu {
      display: flex;
    }
    @media (max-width: 600px) {
      #hamburger-menu {
        display: block;
      }
      nav {
        display: none;
      }
    }
    .section-label {
  position: absolute;
  top: 18px;
  left: 24px;
  font-size: 1.2rem;
  font-weight: bold;
  color: #d46a92;
  background: #fff;
  padding: 4px 18px 4px 0;
  border-radius: 0 16px 16px 0;
  box-shadow: 0 2px 8px #f8c8dc22;
  z-index: 2;
  letter-spacing: 1px;
}
@media (max-width: 700px) {
  .section-label { left: 10px; font-size: 1rem; }
}
    .section-highlight {
  background: linear-gradient(90deg, #f8c8dc33 60%, #fff 100%);
  border-radius: 10px;
  transition: background 0.5s;
  box-shadow: 0 2px 12px #f8c8dc33;
}
h2.section-highlight {
  padding: 10px 18px;
}
.sug-item {
  padding: 8px 14px;
  cursor: pointer;
  border-bottom: 1px solid #f8c8dc33;
  font-size: 1rem;
}
.sug-item:last-child { border-bottom: none; }
.sug-item:hover { background: #f8c8dc33; color: #d46a92; }
.main-section-title {
  font-size: 2.2rem;
  color: #d46a92;
  font-weight: bold;
  letter-spacing: 1px;
  margin-bottom: 0;
  margin-top: 0;
  display: inline-block;
  background: #fff;
  padding: 8px 36px;
  border-radius: 18px;
  box-shadow: 0 2px 12px #f8c8dc33;
}
.service-box {
  background: #f8c8dc22;
  border-radius: 16px;
  box-shadow: 0 2px 12px #f8c8dc22;
  padding: 24px 18px 18px 18px;
  width: 200px;
  min-width: 180px;
  text-align: center;
  flex: 1 1 180px;
  transition: transform 0.2s;
}
.service-box:hover {
  transform: translateY(-6px) scale(1.04);
  box-shadow: 0 6px 24px #f8c8dc44;
}
.service-icon {
  font-size: 2.2rem;
  margin-bottom: 10px;
}
.service-title {
  font-weight: bold;
  color: #d46a92;
  margin-bottom: 6px;
  font-size: 1.08rem;
}
.service-desc {
  color: #555;
  font-size: 0.98rem;
}
@media (max-width: 900px) {
  .service-box { width: 46%; min-width: 140px; margin-bottom: 18px; }
}
@media (max-width: 600px) {
  .service-box { width: 100%; min-width: 0; }
}
.product-group {
  margin-bottom: 48px;
}
.sug-item img {
  width: 38px;
  height: 38px;
  object-fit: cover;
  border-radius: 6px;
  box-shadow: 0 2px 8px #f8c8dc22;
  margin-right: 6px;
}
.sug-item.sug-book {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 7px 12px;
  border-radius: 8px;
  margin-bottom: 2px;
  transition: background 0.2s;
}
.sug-item.sug-book:hover {
  background: #f8c8dc33;
  color: #d46a92;
}
.sug-item.sug-book img {
  width: 36px;
  height: 36px;
  object-fit: cover;
  border-radius: 6px;
  box-shadow: 0 2px 8px #f8c8dc22;
  margin-right: 8px;
  flex-shrink: 0;
}
.sug-info {
  display: flex;
  flex-direction: column;
  gap: 2px;
  min-width: 0;
}
.sug-title {
  font-weight: 500;
  color: #d46a92;
  font-size: 1em;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 140px;
}
.sug-author {
  font-size: 0.92em;
  color: #555;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 120px;
}
.sug-price {
  font-size: 0.92em;
  color: #888;
}
.book-meta {
  display: flex;
  align-items: center;
  gap: 6px;
  margin-bottom: 3px;
}
.book-rating-box {
  display: inline-flex;
  align-items: center;
  background: #fff7e6;
  border: 1px solid #ffb300;
  border-radius: 3px;
  padding: 0 7px;
  font-weight: 600;
  font-size: 0.95rem;
  min-width: 38px;
  height: 20px;
  line-height: 1;
}
.book-rating-star svg {
  margin-right: 2px;
  margin-bottom: 1px;
  display: inline-block;
}
.book-rating-score {
  color: #ffb300;
  font-size: 1em;
  font-weight: 600;
  line-height: 1;
}
.book-sold-box {
  display: inline-flex;
  align-items: center;
  background: #f2f2f2;
  border: 1px solid #e0e0e0;
  border-radius: 3px;
  padding: 0 7px;
  font-size: 0.93em;
  color: #222;
}
  
#search-bar {
  display:flex;
  align-items:center;
  background:#fff;
  border-radius:30px;
  border:2px solid #d46a92;
  padding:4px 10px;
}
#search-bar input {
  border:none;
  outline:none;
  background:transparent;
  font-size:1rem;
  width:160px;
}
#search-bar button {
  background:none;
  border:none;
  font-size:1.2rem;
  color:#d46a92;
  cursor:pointer;
}
#cart-menu {
  position:relative;
}
#cart-btn {
  background:#fff;
  border:2px solid #d46a92;
  color:#d46a92;
  border-radius:50px;
  font-size:1.3rem;
  padding:6px 16px;
  cursor:pointer;
}
#cart-count {
  background:#d46a92;
  color:#fff;
  border-radius:50%;
  padding:2px 7px;
  font-size:0.9rem;
}
#cart-dropdown {
  display:none;
  position:absolute;
  top:40px;
  right:0;
  background:#fff;
  border:1.5px solid #d46a92;
  border-radius:12px;
  min-width:220px;
  box-shadow:0 4px 24px rgba(0,0,0,0.1);
  padding:14px;
}

#search-bar {
  position: relative;
}
#search-suggestions {
  position: absolute;
  top: 100%;
  left: 0;
  width: 100%;
  background: #fff;
  border: 1px solid #d46a92;
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
  z-index: 2000;
  display: none;
}
#search-suggestions .sug-item {
  padding: 8px 12px;
  cursor: pointer;
  border-bottom: 1px solid #f8c8dc33;
  font-size: 0.95rem;
}
#search-suggestions .sug-item:last-child {
  border-bottom: none;
}
#search-suggestions .sug-item:hover {
  background: #f8c8dc33;
  color: #d46a92;
}

/* Khi tìm kiếm, thu nhỏ sách lại */
.book-list .book {
  max-width: 340px;
  margin: 0 auto;
}
.book-list .book img {
  height: 250px;
}
@media (max-width: 700px) {
  .book-list .book {
    max-width: 98vw;
  }
  .book-list .book img {
    height: 160px;
  }
}

/* Nút lên đầu trang */
#back-to-top {
  display: none;
  position: fixed;
  bottom: 38px;
  right: 28px;
  z-index: 12000;
  background: #fff;
  color: #d46a92;
  border: 2px solid #d46a92;
  border-radius: 50%;
  width: 44px;
  height: 44px;
  font-size: 1.7rem;
  box-shadow: 0 2px 12px #d46a9244;
  cursor: pointer;
  transition: background 0.2s, color 0.2s, box-shadow 0.2s;
}
#back-to-top:hover {
  background: #d46a92;
  color: #fff;
  box-shadow: 0 4px 18px #d46a9244;
}
.footer-flex {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 32px;
  max-width: 1100px;
  margin: 0 auto;
  padding: 32px 12px 12px 12px;
  flex-wrap: wrap;
}
.footer-col {
  flex: 1 1 220px;
  min-width: 180px;
  margin-bottom: 18px;
}
.footer-service-title {
  font-weight: bold;
  color: #d46a92;
  margin-bottom: 8px;
  font-size: 1.08rem;
}
@media (max-width: 900px) {
  .footer-flex {
    flex-direction: column;
    gap: 0;
    padding: 24px 8px 8px 8px;
  }
  .footer-col {
    min-width: 0;
    margin-bottom: 18px;
  }
}

/* Gọn gàng thông tin sách trong giỏ hàng */
#cart-list li img {
  width: 28px !important;
  height: 28px !important;
  margin-right: 6px !important;
  border-radius: 5px !important;
}
#cart-list li div {
  font-size: 0.97em;
}
#cart-list li div > div {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  font-size: 0.95em;
  margin-bottom: 1px;
}
#cart-list li div > div:first-child {
  font-weight: 500;
  color: #d46a92;
  font-size: 1em;
}
#cart-list li div > div:nth-child(2),
#cart-list li div > div:nth-child(3) {
  color: #666;
  font-size: 0.92em;
}
#cart-list li {
  min-height: 32px;
  padding: 2px 0;
}

@media (max-width: 900px) {
  .header-bar {
    flex-direction: column;
    align-items: center;
    padding: 6px;
  }
  .header-actions {
    position: static !important;
    margin-top: 8px;
    justify-content: center;
  }
}

@media (max-width: 900px) {
  .header-bar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 6px 12px;
  }
  nav { display: none; }
  .header-actions {
    position: static !important;
    margin: 0;
    flex-direction: row;
    gap: 8px;
  }
  #hamburger-menu {
    position: static;
    margin-right: auto;
  }
/* === FIX POPUP ĐẸP HƠN, KHÔNG BỊ CHE === */
#popup-modal {
  top: calc(50% + 110px) !important;     /* Dịch popup xuống để không bị header che */
  transform: translate(-50%, -50%);
  width: 96vw;                           /* Rộng hơn chút cho mobile */
  max-width: 360px;                      /* Giới hạn tối đa 360px */
  max-height: calc(100vh - 240px) !important; /* Ngắn lại, không che nút Gửi đơn */
  overflow-y: auto !important;           /* Cuộn được nếu dài */
  padding-top: 52px;                     /* Chừa chỗ cho ❌ và tiêu đề */
}
#popup-modal .close-btn {
  top: 14px;
  right: 16px;
  position: absolute;
}
/* === FIX GIAO DIỆN GIỎ HÀNG === */
#cart-dropdown {
  width: 300px;                 /* Giới hạn chiều rộng */
  max-width: 90vw;              /* Không vượt quá màn hình nhỏ */
  padding: 10px 12px;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  font-size: 14px;              /* Chữ nhỏ gọn */
}

#cart-dropdown h3 {
  font-size: 15px;
  margin-bottom: 6px;
  color: #d46a92;
}

#cart-items {
  display: flex;
  flex-direction: column;
  gap: 8px;
  max-height: 200px;            /* Nếu nhiều sản phẩm thì cuộn */
  overflow-y: auto;
}

#cart-items .cart-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 6px 0;
  border-bottom: 1px solid #eee;
}

#cart-items .cart-item:last-child {
  border-bottom: none;
}

#cart-items .item-info {
  flex: 1;
}

#cart-items .item-title {
  font-size: 14px;
  font-weight: bold;
  color: #444;
}

#cart-items .item-price {
  font-size: 13px;
  color: #d46a92;
}

#cart-items .remove-btn {
  background: none;
  border: none;
  color: #d46a92;
  font-size: 14px;
  cursor: pointer;
}
/* === FIX HIỂN THỊ SẢN PHẨM TRÊN MOBILE === */
@media (max-width: 700px) {
  .product-card {
    display: flex;
    flex-direction: column;     /* Cho ảnh lên trên, nội dung xuống dưới */
    align-items: center;
    width: 95%;                 /* Gọn vừa màn hình */
    margin: 10px auto;
  }

  .product-card img {
    width: 100%;                /* Ảnh chiếm full chiều ngang card */
    height: auto;               /* Tự co theo tỉ lệ, không bị cắt */
    object-fit: contain;        /* Giữ nguyên tỉ lệ, không khuất */
    border-radius: 12px;
  }

  .product-info {
    width: 100%;
    text-align: center;         /* Canh giữa nội dung */
    margin-top: 10px;
  }

  .product-info h3 {
    font-size: 16px;
    margin: 6px 0;
  }

  .product-info p {
    font-size: 14px;
    margin: 2px 0;
  }

  .product-actions {
    display: flex;
    justify-content: center;    /* Hai nút nằm giữa */
    gap: 10px;
    margin-top: 8px;
  }

  .product-actions button {
    flex: 1;
    max-width: 120px;           /* Nút vừa gọn */
    font-size: 14px;
    padding: 8px;
  }
/* === FIX ẢNH SÁCH KHÔNG BỊ CHE === */
.product-card img,
.book-item img,
.product img {
  width: 100% !important;
  max-width: 240px !important;
  height: auto !important;
  object-fit: contain !important; /* luôn hiện đủ, không cắt */
  display: block;
  margin: 0 auto;
}
nav a.active {
  color: var(--brand);
  border-bottom: 2px solid var(--brand);
  padding-bottom: 4px;
}
nav a.active,
#mobileMenu a.active {
  color: var(--brand);
  font-weight: 700;
}

/* đảm bảo khi scroll đến tiêu đề không bị che */
section.anchor {
  scroll-margin-top: 80px;
}
/* Thêm vào cuối file CSS */
@media (max-width: 700px) {
  #popup-modal {
    top: 55% !important;
    max-height: 80vh !important;
    padding-top: 52px !important;
    z-index: 99999 !important;
  }
  #order-success, #contact-success {
    padding-top: 32px !important;
    font-size: 1.1em;
  }
}
/* Đảm bảo popup/modal không bị che trên mobile */
@media (max-width: 700px) {
  #popup-modal {
    top: 60% !important;
    left: 50% !important;
    transform: translate(-50%, -50%) !important;
    max-height: 85vh !important;
    z-index: 99999 !important;
    padding-top: 52px !important;
  }
  #order-success, #contact-success {
    padding-top: 32px !important;
    font-size: 1.1em;
    z-index: 99999 !important;
  }
  #popup-overlay {
    z-index: 99998 !important;
  }
}
</style>
</head>
<body>

<!-- MAIN HOME -->
<section id="trangchu" class="anchor" style="min-height:100vh; display:flex; align-items:center; justify-content:center; flex-direction:column; background:linear-gradient(135deg,#ffe1f0,#e1f0ff); text-align:center;">
<h2 class="section-title">Trang chủ</h2>
 <h1 style="font-size:clamp(28px,4vw,52px); font-weight:900; background:linear-gradient(90deg,#d46a92,#6a5acd); -webkit-background-clip:text; -webkit-text-fill-color:transparent;">Chào mừng đến với Read & Bloom</h1>
  <p style="max-width:600px; margin:20px auto; font-size:18px; color:#555;">Nơi hội tụ những cuốn sách truyền cảm hứng, nuôi dưỡng tâm hồn và trí tuệ.</p>
  <a href="#sanpham" class="btn btn-primary">📚 Khám phá ngay</a>
</section>

<header>
<!-- Logo ở trên cùng, căn giữa -->
<div class="header-logo">
<img alt="Read &amp; Bloom" src="images/logo.png"/>
<div class="header-title">Read &amp; Bloom</div>
</div>

<!-- Hàng menu, tìm kiếm, giỏ hàng -->
<div class="header-bar"><div id="hamburger-menu">
<input id="menu-toggle" type="checkbox"/>
<label for="menu-toggle" id="menu-icon">☰</label>
<div id="side-menu">
<a href="#trangchu" id="side-trangchu" onclick="closeMenu()">Trang chủ</a>
<a href="#gioithieu" id="side-gioithieu" onclick="closeMenu()">Giới thiệu</a>
<a href="#sanpham" id="side-sanpham" onclick="closeMenu()">Sản phẩm</a>
<a href="#lienhe" id="side-lienhe" onclick="closeMenu()">Liên hệ</a>
</div>
</div>
<nav>
<a href="#trangchu" id="menu-trangchu">Trang chủ</a>
<a href="#gioithieu" id="menu-gioithieu">Giới thiệu</a>
<a href="#sanpham" id="menu-sanpham">Sản phẩm</a>
<a href="#lienhe" id="menu-lienhe">Liên hệ</a>
</nav>
<div class="header-actions">
<div id="search-bar">
<input id="search-input" oninput="searchBooks();showSuggestions();" placeholder="Tìm sách..." style="width:90px;" type="text"/>
<button id="search-btn" onclick="searchBooks()">🔍</button>
<div id="search-suggestions"></div>
</div>
<div id="cart-menu">
<button id="cart-btn">🛒 <span id="cart-count">0</span></button>
<div id="cart-dropdown">
<h4>Giỏ hàng</h4>
<ul id="cart-list"></ul>
<div id="cart-empty">Chưa có sản phẩm nào.</div>
<button id="cart-buy-btn" style="display:none;">Mua hàng</button>
</div>
</div>
</div>
</div>
</header>
<!-- Giới thiệu -->
<section id="gioithieu" style="padding-top:80px;">
<div style="text-align:center;margin-bottom:36px;">
<h2 class="main-section-title">Giới thiệu</h2>
</div>
<div style="background:linear-gradient(120deg,#f8c8dc 60%,#fff 100%);border-radius:18px;box-shadow:0 4px 32px #f8c8dc44;padding:40px 24px 32px 24px;max-width:700px;margin:0 auto 40px auto;text-align:center;position:relative;">
<img alt="Read &amp; Bloom" src="images/logo.png" style="height:70px;border-radius:14px;box-shadow:0 2px 12px #d46a9244;margin-bottom:18px;"/>
<h2 style="margin-top:20px;font-size:2rem;color:#d46a92;font-weight:700;letter-spacing:1px;">Read &amp; Bloom</h2>
<p style="font-size:1.15rem;color:#7b4b7e;margin:18px 0 0 0;">
      Chào mừng bạn đến với <b>Read &amp; Bloom</b> – nơi hội tụ những cuốn sách truyền cảm hứng, văn học trẻ, truyện tranh và nhiều thể loại hấp dẫn khác.<br/>
<span style="color:#d46a92;font-weight:500;">Khám phá, đọc và lớn lên cùng tri thức!</span>
</p>
<blockquote style="color:#d46a92;font-style:italic;margin:28px 0 0 0;font-size:1.1rem;">“Reading is dreaming with open eyes”</blockquote>
</div>
</section>
<section id="sanpham" style="margin-top:16px;">
<div style="text-align:center;margin-bottom:36px;">
<h2 class="main-section-title">Sản phẩm</h2>
</div>
<!-- ...phần sản phẩm... -->
<!-- Sách truyền cảm hứng -->
<div class="product-group">
<h2 id="truyencamhung">📘 Sách truyền cảm hứng</h2>
<div class="book-list">
<div class="book">
<img alt="Đánh Thức Con Người Phi Thường Trong Bạn" src="images/danhthuc.jpg"/>
<h3>Đánh Thức Con Người Phi Thường Trong Bạn</h3>
<div class="book-meta">
<span class="book-rating-box">
<span class="book-rating-star">
<svg fill="#ffb300" height="13" style="vertical-align:middle;" viewbox="0 0 20 20" width="13" xmlns="http://www.w3.org/2000/svg">
<polygon points="10,1.5 12.6,7.5 19,7.7 14,12.1 15.5,18.2 10,14.8 4.5,18.2 6,12.1 1,7.7 7.4,7.5"></polygon>
</svg>
</span>
<span class="book-rating-score">4.9</span>
</span>
<span class="book-sold-box">Đã bán 1.2k</span>
</div>
<p>Tác giả: Tony Robbins<br/>Giá: 145.000đ</p>
<div class="book-actions">
<button class="add-cart-btn">Thêm vào giỏ</button>
<button class="buy-now-btn">Mua ngay</button>
</div>
</div>
<div class="book">
<img alt="Đi Tìm Lẽ Sống" src="images/ditimlesong.jpg"/>
<h3>Đi Tìm Lẽ Sống</h3>
<div class="book-meta">
<span class="book-rating-box">
<span class="book-rating-star">
<svg fill="#ffb300" height="13" style="vertical-align:middle;" viewbox="0 0 20 20" width="13" xmlns="http://www.w3.org/2000/svg">
<polygon points="10,1.5 12.6,7.5 19,7.7 14,12.1 15.5,18.2 10,14.8 4.5,18.2 6,12.1 1,7.7 7.4,7.5"></polygon>
</svg>
</span>
<span class="book-rating-score">4.8</span>
</span>
<span class="book-sold-box">Đã bán 980</span>
</div>
<p>Tác giả: Viktor Frankl<br/>Giá: 120.000đ</p>
<div class="book-actions">
<button class="add-cart-btn">Thêm vào giỏ</button>
<button class="buy-now-btn">Mua ngay</button>
</div>
</div>
<div class="book">
<img alt="Dám Nghĩ Lớn" src="images/damnghilon.jpg"/>
<h3>Dám Nghĩ Lớn</h3>
<div class="book-meta">
<span class="book-rating-box">
<span class="book-rating-star">
<svg fill="#ffb300" height="13" style="vertical-align:middle;" viewbox="0 0 20 20" width="13" xmlns="http://www.w3.org/2000/svg">
<polygon points="10,1.5 12.6,7.5 19,7.7 14,12.1 15.5,18.2 10,14.8 4.5,18.2 6,12.1 1,7.7 7.4,7.5"></polygon>
</svg>
</span>
<span class="book-rating-score">4.7</span>
</span>
<span class="book-sold-box">Đã bán 1.5k</span>
</div>
<p>Tác giả: David J. Schwartz<br/>Giá: 135.000đ</p>
<div class="book-actions">
<button class="add-cart-btn">Thêm vào giỏ</button>
<button class="buy-now-btn">Mua ngay</button>
</div>
</div>
<div class="book">
<img alt="Tôi Tài Giỏi, Bạn Cũng Thế!" src="images/toitaigioibancungthe.jpg"/>
<h3>Tôi Tài Giỏi, Bạn Cũng Thế!</h3>
<div class="book-meta">
<span class="book-rating-box">
<span class="book-rating-star">
<svg fill="#ffb300" height="13" style="vertical-align:middle;" viewbox="0 0 20 20" width="13" xmlns="http://www.w3.org/2000/svg">
<polygon points="10,1.5 12.6,7.5 19,7.7 14,12.1 15.5,18.2 10,14.8 4.5,18.2 6,12.1 1,7.7 7.4,7.5"></polygon>
</svg>
</span>
<span class="book-rating-score">5.0</span>
</span>
<span class="book-sold-box">Đã bán 2.1k</span>
</div>
<p>Tác giả: Adam Khoo<br/>Giá: 115.000đ</p>
<div class="book-actions">
<button class="add-cart-btn">Thêm vào giỏ</button>
<button class="buy-now-btn">Mua ngay</button>
</div>
</div>
</div>
</div>
<!-- Tác phẩm văn học -->
<div class="product-group">
<h2 id="vanhoc">📚 Tác phẩm văn học</h2>
<div class="book-list">
<div class="book">
<img alt="Dế Mèn Phiêu Lưu Ký" src="images/demenphieuluuky.jpg"/>
<h3>Dế Mèn Phiêu Lưu Ký</h3>
<div class="book-meta">
<span class="book-rating-box">
<span class="book-rating-star">
<svg fill="#ffb300" height="13" style="vertical-align:middle;" viewbox="0 0 20 20" width="13" xmlns="http://www.w3.org/2000/svg">
<polygon points="10,1.5 12.6,7.5 19,7.7 14,12.1 15.5,18.2 10,14.8 4.5,18.2 6,12.1 1,7.7 7.4,7.5"></polygon>
</svg>
</span>
<span class="book-rating-score">4.8</span>
</span>
<span class="book-sold-box">Đã bán 1.1k</span>
</div>
<p>Tác giả: Tô Hoài<br/>Giá: 90.000đ</p>
<div class="book-actions">
<button class="add-cart-btn">Thêm vào giỏ</button>
<button class="buy-now-btn">Mua ngay</button>
</div>
</div>
<div class="book">
<img alt="Chí Phèo" src="images/chipheo.jpg"/>
<h3>Chí Phèo</h3>
<div class="book-meta">
<span class="book-rating-box">
<span class="book-rating-star">
<svg fill="#ffb300" height="13" style="vertical-align:middle;" viewbox="0 0 20 20" width="13" xmlns="http://www.w3.org/2000/svg">
<polygon points="10,1.5 12.6,7.5 19,7.7 14,12.1 15.5,18.2 10,14.8 4.5,18.2 6,12.1 1,7.7 7.4,7.5"></polygon>
</svg>
</span>
<span class="book-rating-score">4.7</span>
</span>
<span class="book-sold-box">Đã bán 900</span>
</div>
<p>Tác giả: Nam Cao<br/>Giá: 75.000đ</p>
<div class="book-actions">
<button class="add-cart-btn">Thêm vào giỏ</button>
<button class="buy-now-btn">Mua ngay</button>
</div>
</div>
<div class="book">
<img alt="Tắt Đèn" src="images/tatden.jpg"/>
<h3>Tắt Đèn</h3>
<div class="book-meta">
<span class="book-rating-box">
<span class="book-rating-star">
<svg fill="#ffb300" height="13" style="vertical-align:middle;" viewbox="0 0 20 20" width="13" xmlns="http://www.w3.org/2000/svg">
<polygon points="10,1.5 12.6,7.5 19,7.7 14,12.1 15.5,18.2 10,14.8 4.5,18.2 6,12.1 1,7.7 7.4,7.5"></polygon>
</svg>
</span>
<span class="book-rating-score">4.9</span>
</span>
<span class="book-sold-box">Đã bán 1.3k</span>
</div>
<p>Tác giả: Ngô Tất Tố<br/>Giá: 95.000đ</p>
<div class="book-actions">
<button class="add-cart-btn">Thêm vào giỏ</button>
<button class="buy-now-btn">Mua ngay</button>
</div>
</div>
<div class="book">
<img alt="Lặng Lẽ Sa Pa" src="images/langlesapa.jpg"/>
<h3>Lặng Lẽ Sa Pa</h3>
<div class="book-meta">
<span class="book-rating-box">
<span class="book-rating-star">
<svg fill="#ffb300" height="13" style="vertical-align:middle;" viewbox="0 0 20 20" width="13" xmlns="http://www.w3.org/2000/svg">
<polygon points="10,1.5 12.6,7.5 19,7.7 14,12.1 15.5,18.2 10,14.8 4.5,18.2 6,12.1 1,7.7 7.4,7.5"></polygon>
</svg>
</span>
<span class="book-rating-score">4.6</span>
</span>
<span class="book-sold-box">Đã bán 750</span>
</div>
<p>Tác giả: Nguyễn Thành Long<br/>Giá: 80.000đ</p>
<div class="book-actions">
<button class="add-cart-btn">Thêm vào giỏ</button>
<button class="buy-now-btn">Mua ngay</button>
</div>
</div>
</div>
</div>
<!-- Truyện tranh -->
<div class="product-group">
<h2 id="truyentranh">📖 Truyện tranh</h2>
<div class="book-list">
<div class="book">
<img alt="Doraemon – Chú mèo máy đến từ tương lai" src="images/doraemon.jpg"/>
<h3>Doraemon – Chú mèo máy đến từ tương lai</h3>
<div class="book-meta">
<span class="book-rating-box">
<span class="book-rating-star">
<svg fill="#ffb300" height="13" style="vertical-align:middle;" viewbox="0 0 20 20" width="13" xmlns="http://www.w3.org/2000/svg">
<polygon points="10,1.5 12.6,7.5 19,7.7 14,12.1 15.5,18.2 10,14.8 4.5,18.2 6,12.1 1,7.7 7.4,7.5"></polygon>
</svg>
</span>
<span class="book-rating-score">5.0</span>
</span>
<span class="book-sold-box">Đã bán 3.2k</span>
</div>
<p>Tác giả: Fujiko F. Fujio<br/>Giá: 25.000đ</p>
<div class="book-actions">
<button class="add-cart-btn">Thêm vào giỏ</button>
<button class="buy-now-btn">Mua ngay</button>
</div>
</div>
<div class="book">
<img alt="One Piece Tập 1" src="images/onepiece.jpg"/>
<h3>One Piece Tập 1</h3>
<div class="book-meta">
<span class="book-rating-box">
<span class="book-rating-star">
<svg fill="#ffb300" height="13" style="vertical-align:middle;" viewbox="0 0 20 20" width="13" xmlns="http://www.w3.org/2000/svg">
<polygon points="10,1.5 12.6,7.5 19,7.7 14,12.1 15.5,18.2 10,14.8 4.5,18.2 6,12.1 1,7.7 7.4,7.5"></polygon>
</svg>
</span>
<span class="book-rating-score">4.9</span>
</span>
<span class="book-sold-box">Đã bán 2.8k</span>
</div>
<p>Tác giả: Eiichiro Oda<br/>Giá: 30.000đ</p>
<div class="book-actions">
<button class="add-cart-btn">Thêm vào giỏ</button>
<button class="buy-now-btn">Mua ngay</button>
</div>
</div>
<div class="book">
<img alt="Thám tử lừng danh Conan" src="images/conan.jpg"/>
<h3>Thám tử lừng danh Conan</h3>
<div class="book-meta">
<span class="book-rating-box">
<span class="book-rating-star">
<svg fill="#ffb300" height="13" style="vertical-align:middle;" viewbox="0 0 20 20" width="13" xmlns="http://www.w3.org/2000/svg">
<polygon points="10,1.5 12.6,7.5 19,7.7 14,12.1 15.5,18.2 10,14.8 4.5,18.2 6,12.1 1,7.7 7.4,7.5"></polygon>
</svg>
</span>
<span class="book-rating-score">4.8</span>
</span>
<span class="book-sold-box">Đã bán 2.2k</span>
</div>
<p>Tác giả: Gosho Aoyama<br/>Giá: 28.000đ</p>
<div class="book-actions">
<button class="add-cart-btn">Thêm vào giỏ</button>
<button class="buy-now-btn">Mua ngay</button>
</div>
</div>
<div class="book">
<img alt="Naruto – Cửu vĩ hồ ly" src="images/naruto.jpg"/>
<h3>Naruto – Cửu vĩ hồ ly</h3>
<div class="book-meta">
<span class="book-rating-box">
<span class="book-rating-star">
<svg fill="#ffb300" height="13" style="vertical-align:middle;" viewbox="0 0 20 20" width="13" xmlns="http://www.w3.org/2000/svg">
<polygon points="10,1.5 12.6,7.5 19,7.7 14,12.1 15.5,18.2 10,14.8 4.5,18.2 6,12.1 1,7.7 7.4,7.5"></polygon>
</svg>
</span>
<span class="book-rating-score">4.7</span>
</span>
<span class="book-sold-box">Đã bán 1.9k</span>
</div>
<p>Tác giả: Masashi Kishimoto<br/>Giá: 32.000đ</p>
<div class="book-actions">
<button class="add-cart-btn">Thêm vào giỏ</button>
<button class="buy-now-btn">Mua ngay</button>
</div>
</div>
</div>
</div>
</section>
<!-- Popup đặt hàng -->
<div id="popup-overlay" style="display:none;">
<div id="popup-modal">
<button class="close-btn" onclick="closePopup()">×</button>
<form id="order-form">
<h3>Đặt mua sách</h3>
<label>Họ tên</label>
<input name="name" required=""/>
<label>Số điện thoại</label>
<input name="phone" required=""/>
<label>Địa chỉ nhận hàng</label>
<input name="address" required=""/>
<label>Tên sách</label>
<input id="book-title-display" readonly="" type="text"/>
<label>Tác giả &amp; Giá</label>
<input id="book-author-price" readonly="" type="text"/>
<input id="book-title" name="book" type="hidden"/>
<label>Hình thức thanh toán</label>
<select name="payment" required="">
<option value="">--Chọn--</option>
<option value="cod">Thanh toán khi nhận hàng</option>
<option value="bank">Chuyển khoản ngân hàng</option>
<option value="momo">Ví MoMo</option>
</select>
<button class="submit-btn" type="submit">Gửi đơn hàng</button>
</form>
<div id="order-success" style="display:none;text-align:center;">
<div class="success-icon">🎉</div>
<div class="success-title">ĐẶT HÀNG THÀNH CÔNG!</div>
<div class="success-desc">Cảm ơn bạn đã đặt sách tại Read &amp; Bloom.<br/>Chúng tôi sẽ liên hệ xác nhận trong thời gian sớm nhất.</div>
</div>
</div>
</div>
<!-- Section Liên hệ -->
<section id="lienhe" style="margin-top:16px;background:#f8c8dc22;padding:40px 20px 60px 20px;">
<h2>📩 Liên hệ &amp; Góp ý</h2>
<form action="https://formspree.io/f/xvgqvrzw" id="contact-form" method="POST" style="max-width:400px;margin:auto;">
<label>Họ tên</label>
<input name="name" required="" style="width:100%;padding:8px;margin-bottom:10px;border-radius:6px;border:1px solid #eee;"/>
<label>Email</label>
<input name="email" required="" style="width:100%;padding:8px;margin-bottom:10px;border-radius:6px;border:1px solid #eee;" type="email">
<label>Góp ý / Hỗ trợ</label>
<textarea name="message" required="" style="width:100%;padding:8px;border-radius:6px;border:1px solid #eee;height:80px;"></textarea>
<button style="background:#d46a92;color:#fff;padding:10px 0;width:100%;border:none;border-radius:8px;margin-top:10px;" type="submit">Gửi liên hệ</button>
</input></form>
<div id="contact-success" style="display:none;text-align:center;margin-top:32px;">
<div class="success-icon">🎉</div>
<div class="success-title">Cảm ơn bạn đã gửi phản hồi!</div>
<div class="success-desc">Chúng tôi rất trân trọng sự ủng hộ và góp ý của bạn.<br/>Read &amp; Bloom sẽ phản hồi sớm nhất có thể.</div>
</div>
</section>
<!-- Thông tin liên hệ cuối trang -->
<footer style="margin-top:40px;">
<hr style="border:none;border-top:3px solid #7ed6df;width:100vw;position:relative;left:50%;right:50%;margin-left:-50vw;margin-right:-50vw;"/>
<div class="footer-flex">
<!-- Thông tin liên hệ bên trái -->
<div class="footer-col footer-contact">
<div>
<span style="color:#0984e3;font-size:1.3em;vertical-align:middle;margin-right:8px;">📧</span>
<b>Email:</b>
<a href="mailto:readbloom@gmail.com" style="color:#0984e3;text-decoration:none;">readbloom@gmail.com</a>
</div>
<div>
<span style="color:#0984e3;font-size:1.3em;vertical-align:middle;margin-right:8px;">📞</span>
<b>Điện thoại:</b>
<a href="tel:0901234567" style="color:#0984e3;text-decoration:none;">0901 234 567</a>
</div>
<div>
<span style="color:#0984e3;font-size:1.3em;vertical-align:middle;margin-right:8px;">📍</span>
<b>Địa chỉ:</b>
        123 Đường Sách, Quận 1, TP.HCM
      </div>
</div>
<!-- Dịch vụ/chính sách ở giữa -->
<div class="footer-col footer-service">
<div class="footer-service-title">Dịch vụ &amp; Chính sách</div>
<div>🚚 Chính sách vận chuyển</div>
<div>🔄 Chính sách đổi trả hàng</div>
<div>🎁 Ưu đãi thành viên</div>
</div>
<!-- Hỗ trợ bên phải -->
<div class="footer-col footer-support">
<div class="footer-service-title">Hỗ trợ</div>
<div>🕒 Thay đổi địa chỉ giao hàng trong 3h</div>
<div>📜 Lịch sử mua hàng</div>
<div>💬 Chat hỗ trợ trực tuyến</div>
</div>
</div>
</footer>
<script>
// ==== GIỎ HÀNG & SẢN PHẨM ====
let cart = [];
const cartBtn = document.getElementById('cart-btn');
const cartCount = document.getElementById('cart-count');
const cartDropdown = document.getElementById('cart-dropdown');
const cartList = document.getElementById('cart-list');
const cartEmpty = document.getElementById('cart-empty');

// Cập nhật giỏ hàng
function updateCart() {
  cartCount.innerText = cart.length;
  cartList.innerHTML = '';
  if (cart.length === 0) {
    cartEmpty.style.display = '';
    document.getElementById('cart-buy-btn').style.display = 'none';
  } else {
    cartEmpty.style.display = 'none';
    cart.forEach((item, idx) => {
      // Tìm bookElem theo tên sách
      const bookElem = Array.from(document.querySelectorAll('.book')).find(
        b => b.querySelector('h3').innerText === item
      );
      let img = '', author = '', price = '';
      if (bookElem) {
        img = bookElem.querySelector('img')?.src || '';
        const pText = bookElem.querySelector('p')?.innerText || '';
        if (pText.includes('Tác giả:')) {
          const parts = pText.split('\n');
          author = parts[0].replace('Tác giả:', '').trim();
          price = parts[1] ? parts[1].replace('Giá:', '').trim() : '';
        }
      }
      let li = document.createElement('li');
      li.style.display = 'flex';
      li.style.alignItems = 'center';
      li.innerHTML = `
        <img src="${img}" alt="" style="width:36px;height:36px;object-fit:cover;border-radius:6px;margin-right:8px;">
        <div style="flex:1;min-width:0;">
          <div style="font-weight:500;color:#d46a92;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;">${item}</div>
          <div style="font-size:0.93em;color:#555;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;">${author}</div>
          <div style="font-size:0.93em;color:#888;">${price}</div>
        </div>
        <button class="remove-cart" title="Xóa" onclick="removeCart(${idx})" style="margin-left:8px;">&times;</button>
      `;
      cartList.appendChild(li);
    });
    document.getElementById('cart-buy-btn').style.display = '';
  }
}

// Xóa sản phẩm khỏi giỏ
function removeCart(idx) {
  cart.splice(idx, 1);
  updateCart();
}

// Hiệu ứng sách bay vào giỏ
function flyToCart(imgElem) {
  const cartBtn = document.getElementById('cart-btn');
  const imgRect = imgElem.getBoundingClientRect();
  const cartRect = cartBtn.getBoundingClientRect();

  // Tạo ảnh bay
  const flyingImg = imgElem.cloneNode(true);
  flyingImg.style.position = 'fixed';
  flyingImg.style.left = imgRect.left + 'px';
  flyingImg.style.top = imgRect.top + 'px';
  flyingImg.style.width = imgRect.width + 'px';
  flyingImg.style.height = imgRect.height + 'px';
  flyingImg.style.zIndex = 99999;
  flyingImg.style.transition = 'all 1.3s cubic-bezier(.5,1.5,.7,1)';
  flyingImg.style.pointerEvents = 'none';
  flyingImg.style.borderRadius = '8px';
  flyingImg.style.boxShadow = '0 4px 16px #d46a9244';
  document.body.appendChild(flyingImg);

  setTimeout(() => {
    flyingImg.style.left = (cartRect.left + cartRect.width/2 - imgRect.width/4) + 'px';
    flyingImg.style.top = (cartRect.top + cartRect.height/2 - imgRect.height/4) + 'px';
    flyingImg.style.width = imgRect.width/2 + 'px';
    flyingImg.style.height = imgRect.height/2 + 'px';
    flyingImg.style.opacity = 0.3;
  }, 10);

  setTimeout(() => {
    flyingImg.remove();
    // Nhấp nháy giỏ hàng
    cartBtn.animate([
      { boxShadow: '0 0 0 0 #d46a92' },
      { boxShadow: '0 0 12px 6px #d46a92' },
      { boxShadow: '0 0 0 0 #d46a92' }
    ], { duration: 400 });
  }, 1350);
}

// Thêm vào giỏ
document.querySelectorAll('.add-cart-btn').forEach(btn => {
  btn.onclick = function() {
    let bookElem = btn.closest('.book');
    let book = bookElem.querySelector('h3').innerText;
    if (!cart.includes(book)) {
      cart.push(book);
      updateCart();
    }
    // Hiệu ứng bay vào giỏ
    const imgElem = bookElem.querySelector('img');
    if (imgElem) flyToCart(imgElem);

    btn.innerText = '✔ Đã thêm!';
    btn.disabled = true;
    setTimeout(() => {
      btn.innerText = 'Thêm vào giỏ';
      btn.disabled = false;
    }, 1200);
  }
});

// Hiện/ẩn giỏ hàng
cartBtn.onclick = function(e) {
  e.stopPropagation();
  cartDropdown.style.display = cartDropdown.style.display === 'block' ? 'none' : 'block';
};
document.body.addEventListener('click', function() {
  cartDropdown.style.display = 'none';
});
cartDropdown.onclick = function(e) { e.stopPropagation(); };

// Mua hàng từ giỏ
document.getElementById('cart-buy-btn').onclick = function() {
  if (cart.length === 0) return;
  // Lấy thông tin chi tiết từng sách trong giỏ
  let titles = [];
  let authorPrices = [];
  cart.forEach(bookTitle => {
    const bookElem = Array.from(document.querySelectorAll('.book')).find(
      b => b.querySelector('h3').innerText === bookTitle
    );
    if (bookElem) {
      titles.push(bookTitle);
      const pText = bookElem.querySelector('p')?.innerText || '';
      let author = '', price = '';
      if (pText.includes('Tác giả:')) {
        const parts = pText.split('\n');
        author = parts[0].replace('Tác giả:', '').trim();
        price = parts[1] ? parts[1].replace('Giá:', '').trim() : '';
      }
      authorPrices.push(`${author} - ${price}`);
    }
  });
  document.getElementById('book-title').value = titles.join(', ');
  document.getElementById('book-title-display').value = titles.join(', ');
  document.getElementById('book-author-price').value = authorPrices.join(' | ');
  document.getElementById('order-form').style.display = '';
  document.getElementById('order-success').style.display = 'none';
  document.getElementById('popup-overlay').style.display = 'block';
  document.getElementById('cart-dropdown').style.display = 'none';
};

// ==== MUA NGAY ====
document.querySelectorAll('.buy-now-btn').forEach(btn => {
  btn.onclick = function() {
    const bookElem = btn.closest('.book');
    // Lấy tiêu đề
    const title = bookElem.querySelector('h3')?.innerText || '';
    // Lấy tác giả và giá từ <p>
    const pText = bookElem.querySelector('p')?.innerText || '';
    let author = '';
    let price = '';
    if (pText.includes('Tác giả:')) {
      const parts = pText.split('\n');
      author = parts[0].replace('Tác giả:', '').trim();
      price = parts[1] ? parts[1].replace('Giá:', '').trim() : '';
    }
    // Gán dữ liệu vào form
    document.getElementById('book-title').value = title;
    document.getElementById('book-title-display').value = title;
    document.getElementById('book-author-price').value = `${author} - ${price}`;
    // Mở popup
    document.getElementById('order-form').style.display = '';
    document.getElementById('order-success').style.display = 'none';
    document.getElementById('popup-overlay').style.display = 'block';
  }
});

// ==== ĐÓNG POPUP ====
function closePopup() {
  document.getElementById('popup-overlay').style.display = 'none';
}

// ==== ĐẶT HÀNG ====
document.getElementById('order-form').onsubmit = function(e) {
  e.preventDefault();
  document.getElementById('order-form').style.display = 'none';
  document.getElementById('order-success').style.display = '';
  // Hiệu ứng pháo giấy
  confetti();
  setTimeout(() => {
    document.getElementById('popup-overlay').style.display = 'none';
  }, 2200);
  cart = [];
  updateCart();
  return false;
};

// ==== PHÁO GIẤY ĐƠN GIẢN ====
function confetti() {
  for (let i = 0; i < 24; i++) {
    let div = document.createElement('div');
    div.style.position = 'fixed';
    div.style.left = (window.innerWidth/2 + Math.random()*120-60) + 'px';
    div.style.top = (window.innerWidth < 700 ? 80 : 120) + 'px';
    div.style.width = '10px';
    div.style.height = '18px';
    div.style.background = `hsl(${Math.random()*360},80%,70%)`;
    div.style.borderRadius = '4px';
    div.style.opacity = 0.8;
    div.style.zIndex = 99999;
    div.style.transform = `rotate(${Math.random()*360}deg)`;
    document.body.appendChild(div);
    let dx = Math.random()*2-1;
    let dy = Math.random()*2+2;
    let gravity = 0.13 + Math.random()*0.07;
    let t = 0;
    let interval = setInterval(() => {
      t += 1;
      div.style.left = (parseFloat(div.style.left) + dx*3) + 'px';
      div.style.top = (parseFloat(div.style.top) + dy) + 'px';
      dy += gravity;
      if (parseFloat(div.style.top) > window.innerHeight-40) {
        clearInterval(interval);
        div.remove();
      }
    }, 18+Math.random()*8);
  }
}

// ==== TÌM KIẾM SÁCH & GỢI Ý ====
function searchBooks() {
  let q = document.getElementById('search-input').value.trim().toLowerCase();
  document.querySelectorAll('.book-list .book').forEach(book => {
    let title = book.querySelector('h3').innerText.toLowerCase();
    let author = book.querySelector('p').innerText.toLowerCase();
    if (title.includes(q) || author.includes(q)) {
      book.style.display = '';
    } else {
      book.style.display = 'none';
    }
  });
}
function showSuggestions() {
  let q = document.getElementById('search-input').value.trim().toLowerCase();
  let sugBox = document.getElementById('search-suggestions');
  if (!q) { sugBox.style.display = 'none'; return; }
  let html = '';
  document.querySelectorAll('.book-list .book').forEach(book => {
    let title = book.querySelector('h3').innerText;
    let author = book.querySelector('p').innerText;
    let price = '';
    if (author.includes('Giá:')) {
      price = author.split('Giá:')[1].trim();
      author = author.split('Giá:')[0].replace('Tác giả:', '').trim();
    }
    let img = book.querySelector('img').src;
    if (title.toLowerCase().includes(q) || author.toLowerCase().includes(q)) {
      html += `<div class="sug-item sug-book" onclick="jumpToBook('${title.replace(/'/g,"\\'")}')">
        <img src="${img}" alt="">
        <div class="sug-info">
          <span class="sug-title">${title}</span>
          <span class="sug-author">${author}</span>
          <span class="sug-price">${price}</span>
        </div>
      </div>`;
    }
  });
  sugBox.innerHTML = html;
  sugBox.style.display = html ? 'block' : 'none';
}
function jumpToBook(title) {
  let book = Array.from(document.querySelectorAll('.book')).find(b => b.querySelector('h3').innerText === title);
  if (book) {
    // Tìm tiêu đề nhóm (h2) gần nhất phía trên sách
    let groupTitle = book.closest('.product-group')?.querySelector('h2');
    let scrollTarget = groupTitle || book;
    // Lấy chiều cao header thực tế
    const headerHeight = document.querySelector('header').offsetHeight || 150;
    const y = scrollTarget.getBoundingClientRect().top + window.scrollY - headerHeight - 12;
    window.scrollTo({ top: y, behavior: 'smooth' });
    // Hiệu ứng nổi bật sách
    book.style.boxShadow = '0 0 0 4px #d46a92aa';
    setTimeout(() => { book.style.boxShadow = ''; }, 1200);
  }
  document.getElementById('search-suggestions').style.display = 'none';
}

// Ẩn gợi ý khi click ngoài
document.body.addEventListener('click', function() {
  document.getElementById('search-suggestions').style.display = 'none';
});
document.getElementById('search-input').addEventListener('focus', showSuggestions);

// ==== MENU HAMBURGER ====
function closeMenu() {
  document.getElementById('menu-toggle').checked = false;
}

// ==== ĐÁNH DẤU MENU KHI CUỘN ====
window.addEventListener('scroll', function() {
  let scrollY = window.scrollY;
  let sections = [
    
    {id: 'trangchu', menu: 'menu-trangchu', side: 'side-trangchu'},
    {id: 'gioithieu', menu: 'menu-gioithieu', side: 'side-gioithieu'},
    {id: 'sanpham', menu: 'menu-sanpham', side: 'side-sanpham'},
    {id: 'lienhe', menu: 'menu-lienhe', side: 'side-lienhe'}
  ];
  for (let s of sections) {
    let sec = document.getElementById(s.id);
    if (!sec) continue;
    let top = sec.offsetTop - 100;
    let bottom = top + sec.offsetHeight;
    let active = scrollY >= top && scrollY < bottom;
    document.getElementById(s.menu).classList.toggle('active', active);
    let side = document.getElementById(s.side);
    if (side) side.classList.toggle('active', active);
  }
});

// ==== CUỘN MƯỢT TỚI ĐÚNG TIÊU ĐỀ SECTION KHI NHẤN MENU ====
document.querySelectorAll('nav a').forEach(link => {
  link.addEventListener('click', function(e) {
    const href = this.getAttribute('href');
    if (href && href.startsWith('#')) {
      e.preventDefault();
      const target = document.querySelector(href);
      if (target) {
        // Tìm tiêu đề section (h2.main-section-title hoặc h2 đầu tiên trong section)
        let title = target.querySelector('.main-section-title') || target.querySelector('h2') || target;
        const headerHeight = document.querySelector('header').offsetHeight || 150;
        const y = title.getBoundingClientRect().top + window.scrollY - headerHeight - 12;
        window.scrollTo({ top: y, behavior: 'smooth' });
      }
    }
  });
});

// ==== KHỞI TẠO ====
updateCart();

// ==== FORM LIÊN HỆ: Hiệu ứng pháo giấy & lời cảm ơn ====
const contactForm = document.getElementById('contact-form');
if (contactForm) {
  contactForm.addEventListener('submit', function(e) {
    e.preventDefault();
    // Gửi form qua AJAX để không reload trang
    fetch(contactForm.action, {
      method: 'POST',
      body: new FormData(contactForm),
      headers: { 'Accept': 'application/json' }
    }).then(response => {
      if (response.ok) {
        contactForm.style.display = 'none';
        document.getElementById('contact-success').style.display = '';
        confetti();
      } else {
        alert('Có lỗi xảy ra, vui lòng thử lại!');
      }
    }).catch(() => {
      alert('Có lỗi xảy ra, vui lòng thử lại!');
    });
  });
}

// ==== CUỘN MƯỢT TỪ SIDE-MENU ====
document.querySelectorAll('#side-menu a').forEach(link => {
  link.addEventListener('click', function(e) {
    const href = this.getAttribute('href');
    if (href && href.startsWith('#')) {
      e.preventDefault();
      const target = document.querySelector(href);
      if (target) {
        let title = target.querySelector('.main-section-title') || target.querySelector('h2') || target;
        const headerHeight = document.querySelector('header').offsetHeight || 150;
        const y = title.getBoundingClientRect().top + window.scrollY - headerHeight - 12;
        window.scrollTo({ top: y, behavior: 'smooth' });
      }
      closeMenu();
    }
  });
});
// ...existing code...

// ==== ĐÁNH DẤU MENU KHI CUỘN CHUẨN HƠN ====
// ...existing code...

function updateMenuHighlight() {
  const sections = [
    {id: 'trangchu', menu: 'menu-trangchu', side: 'side-trangchu'},
    {id: 'gioithieu', menu: 'menu-gioithieu', side: 'side-gioithieu'},
    {id: 'sanpham', menu: 'menu-sanpham', side: 'side-sanpham'},
    {id: 'lienhe', menu: 'menu-lienhe', side: 'side-lienhe'}
  ];
  const headerHeight = document.querySelector('header').offsetHeight || 150;
  const scrollY = window.scrollY;
  let found = false;
  for (let i = sections.length - 1; i >= 0; i--) {
    const sec = document.getElementById(sections[i].id);
    if (!sec) continue;
    // Tìm tiêu đề section
    let title = sec.querySelector('.main-section-title') || sec.querySelector('h2') || sec;
    const top = title.getBoundingClientRect().top + window.scrollY - headerHeight - 20;
    if (scrollY >= top) {
      // Đánh dấu active cho menu
      sections.forEach(s => {
        document.getElementById(s.menu).classList.remove('active');
        const side = document.getElementById(s.side);
        if (side) side.classList.remove('active');
      });
      document.getElementById(sections[i].menu).classList.add('active');
      const side = document.getElementById(sections[i].side);
      if (side) side.classList.add('active');
      found = true;
      break;
    }
  }
  // Nếu chưa tìm thấy (ở trên cùng), đánh dấu Trang chủ
  if (!found) {
    sections.forEach(s => {
      document.getElementById(s.menu).classList.remove('active');
      const side = document.getElementById(s.side);
      if (side) side.classList.remove('active');
    });
    document.getElementById('menu-trangchu').classList.add('active');
    const side = document.getElementById('side-trangchu');
    if (side) side.classList.add('active');
  }
}
window.addEventListener('scroll', updateMenuHighlight);
updateMenuHighlight();
// ...existing code...
</script>
</body>
</html>